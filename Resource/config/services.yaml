services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: false

  Plugin\CustomerChangeNotify\:
    resource: '../../*'
    exclude: '../../{tests,Resource,.git,.gitignore,build,.claude,AGENTS.md,CLAUDE.md}'

  Plugin\CustomerChangeNotify\Controller\Admin\ConfigController:
    public: true
    tags: ['controller.service_arguments']

  Plugin\CustomerChangeNotify\Event\CustomerChangeSubscriber:
    tags:
      - { name: doctrine.event_subscriber, connection: default }

  Plugin\CustomerChangeNotify\Service\DiffBuilder:
    autowire: true
    arguments:
      $watchFields: ['name01', 'name02', 'kana01', 'kana02', 'email', 'tel01', 'tel02', 'tel03', 'zip01', 'zip02', 'addr01', 'addr02']
